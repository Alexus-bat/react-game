(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/click.0920fcb3.mp3"},26:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/lost.4d1ccb21.mp3"},27:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/win.3d559ecb.mp3"},28:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a,l,o,i=n(0),c=n(12),r=n.n(c),s=(n(20),n(4)),u=n(3),b=n(6),v=(n(21),n(1)),d=function(e){var t=e.value;return Object(v.jsx)("div",{className:"NumberDisplay",children:t<0?"-".concat(Math.abs(t).toString().padStart(2,"0")):t.toString().padStart(3,"0")})};!function(e){e[e.none=0]="none",e[e.one=1]="one",e[e.two=2]="two",e[e.three=3]="three",e[e.four=4]="four",e[e.five=5]="five",e[e.six=6]="six",e[e.seven=7]="seven",e[e.eight=8]="eight",e[e.bomb=9]="bomb"}(a||(a={})),function(e){e[e.open=0]="open",e[e.visible=1]="visible",e[e.flagged=2]="flagged"}(l||(l={})),function(e){e.smile="\ud83d\ude01",e.oh="\ud83d\ude2e",e.lost="\ud83d\ude35",e.won="\ud83d\ude0e"}(o||(o={}));var f=function(e,t,n,a,l){return{topLeftCell:t>0&&n>0?e[t-1][n-1]:null,topCell:t>0?e[t-1][n]:null,topRightCell:t>0&&n<a-1?e[t-1][n+1]:null,leftCell:n>0?e[t][n-1]:null,rightCell:n<a-1?e[t][n+1]:null,bottomLeftCell:t<l-1&&n>0?e[t+1][n-1]:null,bottomCell:t<l-1?e[t+1][n]:null,bottomRightCell:t<l-1&&n<a-1?e[t+1][n+1]:null}},m=function(e){for(var t=e.MAX_COLS,n=e.MAX_ROWS,o=e.NO_OF_BOMBS,i=[],c=0;c<n;c++){i.push([]);for(var r=0;r<t;r++)i[c].push({value:a.none,state:l.open})}for(var u=0,b=function(){var e=Math.floor(Math.random()*n),l=Math.floor(Math.random()*t);i[e][l].value!==a.bomb&&(i=i.map((function(t,n){return t.map((function(t,o){return e===n&&l===o?Object(s.a)(Object(s.a)({},t),{},{value:a.bomb}):t}))})),u++)};u<o;)b();for(var v=0;v<n;v++)for(var d=0;d<t;d++){var m=i[v][d];if(m.value!==a.bomb){var O=0,j=f(i,v,d,t,n),p=j.topLeftCell,h=j.topCell,g=j.topRightCell,C=j.leftCell,S=j.rightCell,_=j.bottomLeftCell,x=j.bottomCell,M=j.bottomRightCell;(null===p||void 0===p?void 0:p.value)===a.bomb&&O++,(null===h||void 0===h?void 0:h.value)===a.bomb&&O++,(null===g||void 0===g?void 0:g.value)===a.bomb&&O++,(null===C||void 0===C?void 0:C.value)===a.bomb&&O++,(null===S||void 0===S?void 0:S.value)===a.bomb&&O++,(null===_||void 0===_?void 0:_.value)===a.bomb&&O++,(null===x||void 0===x?void 0:x.value)===a.bomb&&O++,(null===M||void 0===M?void 0:M.value)===a.bomb&&O++,O>0&&(i[v][d]=Object(s.a)(Object(s.a)({},m),{},{value:O}))}}return i},O=function e(t,n,o,i,c){var r=t[n][o];if(r.state===l.visible||r.state===l.flagged)return t;var s=t.slice();s[n][o].state=l.visible;var u=f(t,n,o,i,c),b=u.topLeftCell,v=u.topCell,d=u.topRightCell,m=u.leftCell,O=u.rightCell,j=u.bottomLeftCell,p=u.bottomCell,h=u.bottomRightCell;return(null===b||void 0===b?void 0:b.state)===l.open&&b.value!==a.bomb&&(b.value===a.none?s=e(s,n-1,o-1,i,c):s[n-1][o-1].state=l.visible),(null===v||void 0===v?void 0:v.state)===l.open&&v.value!==a.bomb&&(v.value===a.none?s=e(s,n-1,o,i,c):s[n-1][o].state=l.visible),(null===d||void 0===d?void 0:d.state)===l.open&&d.value!==a.bomb&&(d.value===a.none?s=e(s,n-1,o+1,i,c):s[n-1][o+1].state=l.visible),(null===m||void 0===m?void 0:m.state)===l.open&&m.value!==a.bomb&&(m.value===a.none?s=e(s,n,o-1,i,c):s[n][o-1].state=l.visible),(null===O||void 0===O?void 0:O.state)===l.open&&O.value!==a.bomb&&(O.value===a.none?s=e(s,n,o+1,i,c):s[n][o+1].state=l.visible),(null===j||void 0===j?void 0:j.state)===l.open&&j.value!==a.bomb&&(j.value===a.none?s=e(s,n+1,o-1,i,c):s[n+1][o-1].state=l.visible),(null===p||void 0===p?void 0:p.state)===l.open&&p.value!==a.bomb&&(p.value===a.none?s=e(s,n+1,o,i,c):s[n+1][o].state=l.visible),(null===h||void 0===h?void 0:h.state)===l.open&&h.value!==a.bomb&&(h.value===a.none?s=e(s,n+1,o+1,i,c):s[n+1][o+1].state=l.visible),s},j=(n(23),function(e){var t=e.row,n=e.col,o=e.onContext,i=e.onClick,c=e.state,r=e.value,s=e.red;return Object(v.jsx)("div",{className:"Button ".concat(c===l.visible?"visible":""," value-").concat(r," ").concat(s?"red":""),onClick:i(t,n),onContextMenu:o(t,n),children:c===l.visible?r===a.bomb?Object(v.jsx)("span",{role:"img","aria-label":"bomb",children:"\ud83d\udca3"}):r===a.none?null:r:c===l.flagged?Object(v.jsx)("span",{role:"img","aria-label":"flag",children:"\ud83d\udea9"}):null})}),p=(n(24),function(e,t){localStorage.setItem(e,JSON.stringify(t))}),h=function(e){return JSON.parse(window.localStorage.getItem(e))},g=function(e){localStorage.removeItem(e)},C={easy:{MAX_ROWS:9,MAX_COLS:9,NO_OF_BOMBS:10},medium:{MAX_ROWS:16,MAX_COLS:16,NO_OF_BOMBS:40},hard:{MAX_ROWS:16,MAX_COLS:30,NO_OF_BOMBS:99}},S=n(25),_=n(26),x=n(27),M=function(){var e=Object(b.a)(S),t=Object(u.a)(e,1)[0],n=Object(b.a)(_),c=Object(u.a)(n,1)[0],r=Object(b.a)(x),f=Object(u.a)(r,1)[0],M=Object(i.useState)(h("config")||C.easy),N=Object(u.a)(M,2),w=N[0],B=N[1],k=Object(i.useState)(h("key")||"easy"),y=Object(u.a)(k,2),A=y[0],L=y[1],R=Object(i.useState)(h("cells")||m(w)),X=Object(u.a)(R,2),F=X[0],E=X[1],W=Object(i.useState)(o.smile),I=Object(u.a)(W,2),J=I[0],D=I[1],T=Object(i.useState)(h("time")||0),H=Object(u.a)(T,2),q=H[0],z=H[1],G=Object(i.useState)(!1),K=Object(u.a)(G,2),P=K[0],Q=K[1],U=Object(i.useState)(h("bomb")||w.NO_OF_BOMBS),V=Object(u.a)(U,2),Y=V[0],Z=V[1],$=Object(i.useState)(!1),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],ae=Object(i.useState)(!1),le=Object(u.a)(ae,2),oe=le[0],ie=le[1];Object(i.useEffect)((function(){P&&(p("cells",F),p("key",A),p("time",q),p("bomb",Y),p("config",w))}),[q,F,Y]),Object(i.useEffect)((function(){var e=function(){D(o.oh)},t=function(){D(o.smile)};return window.addEventListener("mousedown",e),window.addEventListener("mouseup",t),function(){window.removeEventListener("mousedown",e),window.removeEventListener("mouseup",t)}}),[]),Object(i.useEffect)((function(){if(P&&q<999){var e=setInterval((function(){z(q+1)}),1e3);return function(){clearInterval(e)}}}),[P,q]),Object(i.useEffect)((function(){te&&(c(),Q(!1),D(o.lost),g("cells"),g("time"),g("bomb"),g("config"),g("key"))}),[te]),Object(i.useEffect)((function(){oe&&(f(),Q(!1),D(o.won))}),[oe]);var ce=function(e,n){return function(o){if(t(),o.preventDefault(),!te){var i=F.slice();if(!P){for(var c=i[e][n].value===a.bomb;c;)if((i=m(w))[e][n].value!==a.bomb){c=!1;break}Q(!0)}var r=i[e][n];if(![l.flagged,l.visible].includes(r.state)){if(r.value===a.bomb)return ne(!0),i[e][n].red=!0,i=se(),void E(i);r.value===a.none?i=O(i,e,n,w.MAX_COLS,w.MAX_ROWS):i[e][n].state=l.visible;for(var u=!1,b=0;b<w.MAX_ROWS;b++)for(var v=0;v<w.MAX_COLS;v++){var d=i[b][v];if(d.value!==a.bomb&&d.state===l.open){u=!0;break}}u||(i=i.map((function(e){return e.map((function(e){return e.value===a.bomb?Object(s.a)(Object(s.a)({},e),{},{state:l.flagged}):e}))})),ie(!0)),E(i)}}}},re=function(e,n){return function(a){if(a.preventDefault(),P){t();var o=F.slice(),i=F[e][n];i.state!==l.visible&&(i.state===l.open?(o[e][n].state=l.flagged,E(o),Z(Y-1)):i.state===l.flagged&&(o[e][n].state=l.open,E(o),Z(Y+1)))}}},se=function(){return F.slice().map((function(e){return e.map((function(e){return e.value===a.bomb?Object(s.a)(Object(s.a)({},e),{},{state:l.visible}):e}))}))},ue=function(e){switch(t(),Q(!1),z(0),g("cells"),g("time"),g("bomb"),e){case"easy":B(C.easy),E(m(C.easy)),Z(C.easy.NO_OF_BOMBS),L("easy");break;case"medium":B(C.medium),E(m(C.medium)),Z(C.medium.NO_OF_BOMBS),L("medium");break;case"hard":B(C.hard),E(m(C.hard)),Z(C.hard.NO_OF_BOMBS),L("hard")}};return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsxs)("div",{className:"Header",children:[Object(v.jsx)(d,{value:Y}),Object(v.jsx)("div",{className:"Face",onClick:function(){t(),Q(!1),z(0),E(m(w)),ne(!1),ie(!1),Z(w.NO_OF_BOMBS)},children:Object(v.jsx)("span",{role:"img","aria-label":"face",children:J})}),Object(v.jsx)(d,{value:q})]}),Object(v.jsx)("div",{className:"Body",style:{gridTemplateColumns:"repeat(".concat(w.MAX_COLS,", 1fr)"),gridTemplateRows:"repeat(".concat(w.MAX_ROWS,", 1fr)")},children:F.map((function(e,t){return e.map((function(e,n){return Object(v.jsx)(j,{state:e.state,value:e.value,onClick:ce,onContext:re,red:e.red,row:t,col:n},"".concat(t," - ").concat(n))}))}))}),Object(v.jsxs)("div",{className:"App__footer",children:[Object(v.jsx)("div",{className:"btn-lvl ".concat("easy"===A&&"active"),onClick:ue.bind(null,"easy"),children:"\u043b\u0435\u0433\u043a\u043e"}),Object(v.jsx)("div",{className:"btn-lvl ".concat("medium"===A&&"active"),onClick:ue.bind(null,"medium"),children:"\u0441\u0440\u0435\u0434\u043d\u0435"}),Object(v.jsx)("div",{className:"btn-lvl ".concat("hard"===A&&"active"),onClick:ue.bind(null,"hard"),children:"\u0441\u043b\u043e\u0436\u043d\u043e"})]})]})},N=(n(28),function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("footer",{className:"footer",children:Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("a",{className:"footer-logo",href:"https://rs.school/js/",rel:"noreferrer",target:"_blank"}),"\xa9 2021 ",Object(v.jsx)("a",{href:"https://github.com/Alexus-bat",rel:"noreferrer",target:"_blank",children:"Created by @Alexus-bat"})]})})})})}),w=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(M,{}),Object(v.jsx)(N,{})]})},B=n(14);r.a.render(Object(v.jsx)(B.a,{children:Object(v.jsx)(w,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.2383b7db.chunk.js.map