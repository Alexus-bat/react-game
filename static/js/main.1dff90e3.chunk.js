(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a,l,o,i=n(0),c=n(17),r=n.n(c),s=(n(23),n(9)),u=n(2),b={easy:{MAX_ROWS:9,MAX_COLS:9,NO_OF_BOMBS:10},medium:{MAX_ROWS:16,MAX_COLS:16,NO_OF_BOMBS:40},hard:{MAX_ROWS:16,MAX_COLS:30,NO_OF_BOMBS:99}},v=(n(24),n(1)),d=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("footer",{className:"footer",children:Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("a",{className:"footer-logo",href:"https://rs.school/js/",rel:"noreferrer",target:"_blank"}),"\xa9 2021 ",Object(v.jsx)("a",{href:"https://github.com/Alexus-bat",rel:"noreferrer",target:"_blank",children:"Created by @Alexus-bat"})]})})})})},f=n(7),j=n(8),m=(n(26),function(e){var t=e.value;return Object(v.jsx)("div",{className:"NumberDisplay",children:t<0?"-".concat(Math.abs(t).toString().padStart(2,"0")):t.toString().padStart(3,"0")})});!function(e){e[e.none=0]="none",e[e.one=1]="one",e[e.two=2]="two",e[e.three=3]="three",e[e.four=4]="four",e[e.five=5]="five",e[e.six=6]="six",e[e.seven=7]="seven",e[e.eight=8]="eight",e[e.bomb=9]="bomb"}(a||(a={})),function(e){e[e.open=0]="open",e[e.visible=1]="visible",e[e.flagged=2]="flagged"}(l||(l={})),function(e){e.smile="\ud83d\ude01",e.oh="\ud83d\ude2e",e.lost="\ud83d\ude35",e.won="\ud83d\ude0e"}(o||(o={}));var O=function(e,t,n,a,l){return{topLeftCell:t>0&&n>0?e[t-1][n-1]:null,topCell:t>0?e[t-1][n]:null,topRightCell:t>0&&n<a-1?e[t-1][n+1]:null,leftCell:n>0?e[t][n-1]:null,rightCell:n<a-1?e[t][n+1]:null,bottomLeftCell:t<l-1&&n>0?e[t+1][n-1]:null,bottomCell:t<l-1?e[t+1][n]:null,bottomRightCell:t<l-1&&n<a-1?e[t+1][n+1]:null}},h=function(e){for(var t=e.MAX_COLS,n=e.MAX_ROWS,o=e.NO_OF_BOMBS,i=[],c=0;c<n;c++){i.push([]);for(var r=0;r<t;r++)i[c].push({value:a.none,state:l.open})}for(var s=0,u=function(){var e=Math.floor(Math.random()*n),l=Math.floor(Math.random()*t);i[e][l].value!==a.bomb&&(i=i.map((function(t,n){return t.map((function(t,o){return e===n&&l===o?Object(f.a)(Object(f.a)({},t),{},{value:a.bomb}):t}))})),s++)};s<o;)u();for(var b=0;b<n;b++)for(var v=0;v<t;v++){var d=i[b][v];if(d.value!==a.bomb){var j=0,m=O(i,b,v,t,n),h=m.topLeftCell,p=m.topCell,g=m.topRightCell,x=m.leftCell,C=m.rightCell,S=m.bottomLeftCell,_=m.bottomCell,M=m.bottomRightCell;(null===h||void 0===h?void 0:h.value)===a.bomb&&j++,(null===p||void 0===p?void 0:p.value)===a.bomb&&j++,(null===g||void 0===g?void 0:g.value)===a.bomb&&j++,(null===x||void 0===x?void 0:x.value)===a.bomb&&j++,(null===C||void 0===C?void 0:C.value)===a.bomb&&j++,(null===S||void 0===S?void 0:S.value)===a.bomb&&j++,(null===_||void 0===_?void 0:_.value)===a.bomb&&j++,(null===M||void 0===M?void 0:M.value)===a.bomb&&j++,j>0&&(i[b][v]=Object(f.a)(Object(f.a)({},d),{},{value:j}))}}return i},p=function e(t,n,o,i,c){var r=t[n][o];if(r.state===l.visible||r.state===l.flagged)return t;var s=t.slice();s[n][o].state=l.visible;var u=O(t,n,o,i,c),b=u.topLeftCell,v=u.topCell,d=u.topRightCell,f=u.leftCell,j=u.rightCell,m=u.bottomLeftCell,h=u.bottomCell,p=u.bottomRightCell;return(null===b||void 0===b?void 0:b.state)===l.open&&b.value!==a.bomb&&(b.value===a.none?s=e(s,n-1,o-1,i,c):s[n-1][o-1].state=l.visible),(null===v||void 0===v?void 0:v.state)===l.open&&v.value!==a.bomb&&(v.value===a.none?s=e(s,n-1,o,i,c):s[n-1][o].state=l.visible),(null===d||void 0===d?void 0:d.state)===l.open&&d.value!==a.bomb&&(d.value===a.none?s=e(s,n-1,o+1,i,c):s[n-1][o+1].state=l.visible),(null===f||void 0===f?void 0:f.state)===l.open&&f.value!==a.bomb&&(f.value===a.none?s=e(s,n,o-1,i,c):s[n][o-1].state=l.visible),(null===j||void 0===j?void 0:j.state)===l.open&&j.value!==a.bomb&&(j.value===a.none?s=e(s,n,o+1,i,c):s[n][o+1].state=l.visible),(null===m||void 0===m?void 0:m.state)===l.open&&m.value!==a.bomb&&(m.value===a.none?s=e(s,n+1,o-1,i,c):s[n+1][o-1].state=l.visible),(null===h||void 0===h?void 0:h.state)===l.open&&h.value!==a.bomb&&(h.value===a.none?s=e(s,n+1,o,i,c):s[n+1][o].state=l.visible),(null===p||void 0===p?void 0:p.state)===l.open&&p.value!==a.bomb&&(p.value===a.none?s=e(s,n+1,o+1,i,c):s[n+1][o+1].state=l.visible),s},g=(n(27),function(e){var t=e.row,n=e.col,o=e.onContext,i=e.onClick,c=e.state,r=e.value,s=e.red;return Object(v.jsx)("div",{className:"Button ".concat(c===l.visible?"visible":""," value-").concat(r," ").concat(s?"red":""),onClick:i(t,n),onContextMenu:o(t,n),children:c===l.visible?r===a.bomb?Object(v.jsx)("span",{role:"img","aria-label":"bomb",children:"\ud83d\udca3"}):r===a.none?null:r:c===l.flagged?Object(v.jsx)("span",{role:"img","aria-label":"flag",children:"\ud83d\udea9"}):null})}),x=(n(28),function(e,t){localStorage.setItem(e,JSON.stringify(t))}),C=function(e){var t=e.config,n=e.name,c=t.MAX_COLS,r=t.MAX_ROWS,s=t.NO_OF_BOMBS,u=Object(i.useState)(h(t)),b=Object(j.a)(u,2),d=b[0],O=b[1],C=Object(i.useState)(o.smile),S=Object(j.a)(C,2),_=S[0],M=S[1],w=Object(i.useState)(0),N=Object(j.a)(w,2),B=N[0],L=N[1],A=Object(i.useState)(!1),y=Object(j.a)(A,2),R=y[0],E=y[1],k=Object(i.useState)(s),F=Object(j.a)(k,2),X=F[0],W=F[1],I=Object(i.useState)(!1),D=Object(j.a)(I,2),J=D[0],T=D[1],H=Object(i.useState)(!1),P=Object(j.a)(H,2),q=P[0],z=P[1];Object(i.useEffect)((function(){O(h(t)),L(0),E(!1),W(t.NO_OF_BOMBS),T(!1),z(!1)}),[t]),Object(i.useEffect)((function(){var e=function(){M(o.oh)},t=function(){M(o.smile)};return window.addEventListener("mousedown",e),window.addEventListener("mouseup",t),function(){window.removeEventListener("mousedown",e),window.removeEventListener("mouseup",t)}}),[]),Object(i.useEffect)((function(){if(R&&B<999){var e=setInterval((function(){L(B+1)}),1e3);return function(){clearInterval(e)}}}),[R,B]),Object(i.useEffect)((function(){J&&(E(!1),M(o.lost))}),[J]),Object(i.useEffect)((function(){q&&(E(!1),M(o.won))}),[q]),Object(i.useEffect)((function(){R&&(x("cells",d),x("time",B),x("name",n))}),[B,d]);var G=function(e,n){return function(o){if(o.preventDefault(),!J){var i=d.slice();if(!R){for(var s=i[e][n].value===a.bomb;s;)if((i=h(t))[e][n].value!==a.bomb){s=!1;break}E(!0)}var u=i[e][n];if(![l.flagged,l.visible].includes(u.state)){if(u.value===a.bomb)return T(!0),i[e][n].red=!0,i=Q(),void O(i);u.value===a.none?i=p(i,e,n,c,r):i[e][n].state=l.visible;for(var b=!1,v=0;v<r;v++)for(var j=0;j<c;j++){var m=i[v][j];if(m.value!==a.bomb&&m.state===l.open){b=!0;break}}b||(i=i.map((function(e){return e.map((function(e){return e.value===a.bomb?Object(f.a)(Object(f.a)({},e),{},{state:l.flagged}):e}))})),z(!0)),O(i)}}}},K=function(e,t){return function(n){if(n.preventDefault(),R){var a=d.slice(),o=d[e][t];o.state!==l.visible&&(o.state===l.open?(a[e][t].state=l.flagged,O(a),W(X-1)):o.state===l.flagged&&(a[e][t].state=l.open,O(a),W(X+1)))}}},Q=function(){return d.slice().map((function(e){return e.map((function(e){return e.value===a.bomb?Object(f.a)(Object(f.a)({},e),{},{state:l.visible}):e}))}))};return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsxs)("div",{className:"Header",children:[Object(v.jsx)(m,{value:X}),Object(v.jsx)("div",{className:"Face",onClick:function(){E(!1),L(0),O(h(t)),T(!1),z(!1),W(s)},children:Object(v.jsx)("span",{role:"img","aria-label":"face",children:_})}),Object(v.jsx)(m,{value:B})]}),Object(v.jsx)("div",{className:"Body",style:{gridTemplateColumns:"repeat(".concat(c,", 1fr)"),gridTemplateRows:"repeat(".concat(r,", 1fr)")},children:d.map((function(e,t){return e.map((function(e,n){return Object(v.jsx)(g,{state:e.state,value:e.value,onClick:G,onContext:K,red:e.red,row:t,col:n},"".concat(t," - ").concat(n))}))}))})]})},S=function(){return Object(v.jsx)("div",{children:Object(v.jsx)("h1",{children:"ScorePage"})})},_=function(){var e=function(e){if(e)return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(u.d,{children:[Object(v.jsx)(u.b,{path:"/game/easy",exact:!0,children:Object(v.jsx)(C,{config:b.easy,name:"easy"})}),Object(v.jsx)(u.b,{path:"/game/medium",exact:!0,children:Object(v.jsx)(C,{config:b.medium,name:"medium"})}),Object(v.jsx)(u.b,{path:"/game/hard",exact:!0,children:Object(v.jsx)(C,{config:b.hard,name:"hard"})}),Object(v.jsx)(u.b,{path:"/score",exact:!0,children:Object(v.jsx)(S,{})}),Object(v.jsx)(u.a,{to:"/game/easy"})]}),Object(v.jsx)(d,{})]})}(!0);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("nav",{className:"nav",children:Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)(s.b,{to:{pathname:"/game/easy"},children:"\u043b\u0435\u0433\u043a\u043e"})}),Object(v.jsx)("li",{children:Object(v.jsx)(s.b,{to:"/game/medium",children:"\u0441\u0440\u0435\u0434\u043d\u0435"})}),Object(v.jsx)("li",{children:Object(v.jsx)(s.b,{to:"/game/hard",children:"\u0441\u043b\u043e\u0436\u043d\u043e"})})]})}),Object(v.jsx)("div",{children:e})]})};r.a.render(Object(v.jsx)(s.a,{children:Object(v.jsx)(_,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.1dff90e3.chunk.js.map